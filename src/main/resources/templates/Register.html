<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
	<meta charset="UTF-8">
	<title>Registration | Smart HR</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="/css/bg.css">
	<style>
		body {
			background: url('/images/attendance_bg.jpg');
			background-size: cover;
			background-repeat: no-repeat;
		}
		.card {
			background-color: rgba(255, 255, 255, 0.25);
			backdrop-filter: blur(10px);
			-webkit-backdrop-filter: blur(10px);
			border: 1px solid rgba(255, 255, 255, 0.2);
			box-shadow: 0 8px 24px rgba(0, 0, 0, 0.2);
		}
		.form-label {
			font-weight: bold;
		}
		.btn-primary {
			background-color: #007bff;
			border: none;
		}
		.btn-primary:hover {
			background-color: #0056b3;
		}
		.password-toggle {
			cursor: pointer;
			color: #007bff;
		}
	</style>
</head>
<body>
	<div class="container">
		<!-- Home Button Top Right -->
		<div class="d-flex justify-content-end mt-3">
			<a href="/" class="btn btn-outline-primary btn-sm">üè† Home</a>
		</div>

		<div class="row justify-content-center">
			<div class="col-md-8 col-12">
				<div class="card shadow-lg p-4 mt-3">
					<h3 class="text-center text-dark fw-bold mb-4">Create Profile</h3>

					<form th:action="@{/saveUser}" th:object="${user}" method="post">
						
						<!-- Basic Information -->
						<h5 class="mb-3">Basic Information</h5>

						<div class="mt-2">
							<label class="form-label">User Name:</label>
							<input type="text" class="form-control" th:field="*{name}" placeholder="Enter your name" required>
						</div>

						<div class="mt-2">
							<label class="form-label">Email:</label>
							<input type="email" class="form-control" th:field="*{email}" placeholder="Enter your email" required>

							<!-- Optional email error alert -->
							<div th:if="${emailError}" class="mt-2 alert alert-danger alert-dismissible fade show" role="alert">
								<span th:text="${emailError}"></span>
								<button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
							</div>
						</div>

						<div class="mt-2 position-relative">
							<label class="form-label">Password:</label>
							<input type="password" class="form-control" th:field="*{password}" id="password" placeholder="Enter your password" required>
							<span class="position-absolute top-50 end-0 translate-middle-y pe-3 password-toggle" onclick="togglePassword()">üëÅÔ∏è</span>
						</div>

						<div class="mt-2">
							<label class="form-label">Phone Number:</label>
							<input type="text" class="form-control" th:field="*{phone}" placeholder="Enter your phone number" pattern="^\d{10}$" required>
						</div>

						<!-- Contact and Demographic Info -->
						<h5 class="mb-3 mt-4">Contact and Demographic Info</h5>

						<div class="mt-2">
							<label class="form-label">Address:</label>
							<input type="text" class="form-control" th:field="*{address}" placeholder="Enter your address" required>
						</div>

						<div class="mt-2">
							<label class="form-label">Date of Birth:</label>
							<input type="date" class="form-control" th:field="*{dateOfBirth}" required>
						</div>

						<div class="mt-2">
							<label class="form-label">Gender:</label>
							<select class="form-select" th:field="*{gender}" required>
								<option value="" disabled selected>Select Gender</option>
								<option value="Male">Male</option>
								<option value="Female">Female</option>
								<option value="Other">Other</option>
							</select>
						</div>

						<!-- Identity Details -->
						<h5 class="mb-3 mt-4">Identity Details</h5>

						<div class="mt-2">
							<label class="form-label">Pan Card No:</label>
							<input type="text" class="form-control" th:field="*{panCardNo}" placeholder="Enter your PAN card number" required>
						</div>

						<div class="mt-2">
							<label class="form-label">Aadhar No:</label>
							<input type="text" class="form-control" th:field="*{aadharNo}" placeholder="Enter your Aadhar number" required>
						</div>

						<!-- Role Selection -->
						<div class="mt-2">
							<label class="form-label">Role:</label>
							<select class="form-select" th:field="*{role}" required>
								<option value="EMPLOYEE" selected>Employee</option>
								<!-- You can add more roles here -->
							</select>
						</div>

						<!-- Submit Button -->
						<div class="mt-4">
							<button class="btn btn-primary form-control" type="submit">Register</button>
						</div>

					</form>
				</div>
			</div>
		</div>
	</div>

	<!-- Password Toggle Script -->
	<script>
		function togglePassword() {
			const passwordInput = document.getElementById("password");
			passwordInput.type = passwordInput.type === "password" ? "text" : "password";
		}
	</script>

	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
